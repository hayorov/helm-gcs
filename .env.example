# helm-gcs Environment Configuration
# Copy this file to .env and fill in your values
# DO NOT commit .env to version control

# ==============================================================================
# GCS Test Configuration
# ==============================================================================

# GCS bucket for integration tests
# Format: gs://bucket-name/optional-path
# Example: GCS_TEST_BUCKET=gs://my-test-bucket/helm-gcs-integration-tests
GCS_TEST_BUCKET=

# ==============================================================================
# GCP Authentication (choose ONE method)
# ==============================================================================

# Method 1: Service Account JSON Key File (RECOMMENDED for local testing)
# Download from GCP Console: IAM & Admin > Service Accounts > Keys
# Ensure the service account has "Storage Admin" or "Storage Object Admin" role
#
# IMPORTANT for Local Development:
#   Set this to the FILE PATH of your service account JSON key
#   Example: GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account-key.json
#
# Note for GitHub Actions:
#   In GitHub Actions, use the GCS_TEST_CREDENTIALS secret with the JSON CONTENT
#   The workflow automatically creates a temp file and sets GOOGLE_APPLICATION_CREDENTIALS
#
GOOGLE_APPLICATION_CREDENTIALS=

# Method 2: OAuth Access Token (temporary, expires in 1 hour)
# Generate with: gcloud auth print-access-token
# Example: GOOGLE_OAUTH_ACCESS_TOKEN=ya29.a0AfH6SMBxxx...
# GOOGLE_OAUTH_ACCESS_TOKEN=

# Method 3: Application Default Credentials (ADC)
# If both above are empty, ADC will be used
# Setup with: gcloud auth application-default login
# No configuration needed - just run the gcloud command

# ==============================================================================
# Test Configuration
# ==============================================================================

# Enable debug logging during tests
# Values: true, false, 1, TRUE
HELM_GCS_DEBUG=false

# Skip GCS-dependent tests (useful when GCP credentials are not available)
# Values: true, false
SKIP_GCS_TESTS=false

# ==============================================================================
# GitHub Actions Secrets (for reference only - configure in GitHub UI)
# ==============================================================================
# These are used by GitHub Actions workflows and should be configured in:
# Repository Settings > Secrets and variables > Actions

# Secret: GCS_TEST_CREDENTIALS
# Description: Service account JSON key CONTENT (entire JSON file content, not a path)
# How to create:
#   1. Go to GCP Console > IAM & Admin > Service Accounts
#   2. Create a new service account (e.g., "helm-gcs-github-actions")
#   3. Grant "Storage Admin" role
#   4. Create JSON key and download the JSON file
#   5. Copy ENTIRE JSON CONTENT (not the file path) to GitHub secret
#   6. The workflow will automatically create a temp file and set GOOGLE_APPLICATION_CREDENTIALS
#
# Difference from Local Development:
#   - Local (.env): GOOGLE_APPLICATION_CREDENTIALS = /path/to/file.json (file path)
#   - GitHub Actions: GCS_TEST_CREDENTIALS = {"type":"service_account",...} (JSON content)

# Variable: GCS_TEST_BUCKET
# Description: Default GCS bucket for integration tests
# Example: gs://my-ci-bucket/helm-gcs-tests

# Variable: HELM_GCS_DEBUG
# Description: Enable debug mode for integration tests (optional)
# Example: true or false
